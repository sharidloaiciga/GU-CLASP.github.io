{"version":3,"sources":["webpack:///./src/pages/news.js"],"names":["News","props","search","location","queryString","parse","numPagesNews","Math","ceil","data","news","totalCount","page","isNaN","upperBound","lowerBound","id","map","entry","index","items","startEntryIndex","className","getNewsEntry","news_entry","undefined","link","number_of_pages","current_page","parseInt","class","style","display","flexWrap","justifyContent","alignItems","listStyle","padding","href","aria-label","aria-hidden","Array","apply","x","i","push","getPagination","frontmatter","bannerImage","to","fields","slug","title","date","src","publicURL","excerpt"],"mappings":"2FAAA,6IAMe,SAASA,EAAKC,GAC3B,IAAIC,EAASD,EAAME,SAASD,OAASE,IAAYC,MAAMJ,EAAME,SAASD,QAAU,GAE5EI,EAAeC,KAAKC,KAAKP,EAAMQ,KAAKC,KAAKC,WADxB,IAEjBC,EAAOV,EAAOU,KACdC,MAAMD,KACRA,EAAO,GAET,IAAIE,EANiB,GAMHF,EAAuB,EACrCG,EAPiB,IAOHH,EAAO,GAEzB,OACE,kBAAC,IAAD,KACGX,EAAMQ,KAAKC,KAAKC,WAAa,GAC5B,yBAAKK,GAAG,SACLf,EAAMQ,KAAKC,KAAKA,KAAKO,KAAI,SAACC,EAAOC,GAChC,GAAIA,EAAQ,GAAK,GACXA,GAASL,GAAcK,GAASJ,EACpC,OAYMK,EAZYnB,EAAMQ,KAAKC,KAAKA,KAYrBW,EAZ2BF,EAclD,kBAAC,IAAD,CAAKG,UAAU,YACb,kBAAC,IAAD,CAAKA,UAAU,mBACZC,EAAaH,EAAMC,GAAiBG,kBAEPC,IAA/BL,EAAMC,EAAkB,IACvB,kBAAC,IAAD,CAAKC,UAAU,mBACZC,EAAaH,EAAMC,EAAkB,GAAGG,cARnD,IAAoBJ,EAAOC,KA0C3B,SAAuBK,EAAMC,EAAiBC,GAG5C,GAFAA,EAAeC,SAASD,IACxBD,EAAkBE,SAASF,KACJ,EACrB,OACE,wBAAIG,MAAM,aAAaC,MAAO,CAC5BC,QAAS,OACTC,SAAU,OACVC,eAAgB,SAChBC,WAAY,SACZC,UAAW,OACXC,QAAS,IAEQ,GAAhBT,EACC,wBAAIE,MAAM,sBACR,uBAAGA,MAAM,4BAA4BQ,KAAMZ,EAAO,UAAYE,EAAe,GAAIW,aAAW,YAC1F,0BAAMC,cAAY,QAAlB,KACA,0BAAMV,MAAM,WAAZ,cAIJ,wBAAIA,MAAM,aACR,uBAAGA,MAAM,4BAA4BQ,KAAMZ,EAAO,UAAYE,EAAe,GAAIW,aAAW,YAC1F,0BAAMC,cAAY,QAAlB,KACA,0BAAMV,MAAM,WAAZ,cAKLW,MAAMC,MAAM,EAAGD,MAAMd,IAAkBV,KAAI,SAAU0B,EAAGC,GACvD,IAAIN,EAAOZ,EAAO,UAAYkB,EAAI,GAClC,OAAIhB,GAAiBgB,EAAI,EACf,wBAAId,MAAM,oBAAmB,uBAAGA,MAAM,YAAYQ,KAAMA,GAAOM,EAAI,IAGnE,wBAAId,MAAM,aAAY,uBAAGA,MAAM,YAAYQ,KAAMA,GAAOM,EAAI,OAGvEhB,GAAgBD,EACf,wBAAIG,MAAM,sBACR,uBAAGA,MAAM,4BAA4BQ,KAAMZ,EAAO,UAAYE,EAAe,GAAIW,aAAW,QAC1F,0BAAMC,cAAY,QAAlB,KACA,0BAAMV,MAAM,WAAZ,UAIJ,wBAAIA,MAAM,aACR,uBAAGA,MAAM,4BAA4BQ,KAAMZ,EAAO,UAAYE,EAAe,GAAIW,aAAW,QAC1F,0BAAMC,cAAY,QAAlB,KACA,0BAAMV,MAAM,WAAZ,WAQV,IAAIV,EAAQ,GAmCZ,GAjCoB,GAAhBQ,GACFR,EAAMyB,KACJ,wBAAIf,MAAM,sBACR,uBAAGA,MAAM,4BAA4BQ,KAAMZ,EAAO,UAAYE,EAAe,GAAIW,aAAW,YAC1F,0BAAMC,cAAY,QAAlB,KACA,0BAAMV,MAAM,WAAZ,eAKNV,EAAMyB,KACJ,wBAAIf,MAAM,oBACR,uBAAGA,MAAM,YAAYQ,KAAMZ,EAAO,WAAlC,SAKJN,EAAMyB,KACJ,wBAAIf,MAAM,aACR,uBAAGA,MAAM,4BAA4BQ,KAAMZ,EAAO,UAAYE,EAAe,GAAIW,aAAW,YAC1F,0BAAMC,cAAY,QAAlB,KACA,0BAAMV,MAAM,WAAZ,eAKNV,EAAMyB,KACJ,wBAAIf,MAAM,aACR,uBAAGA,MAAM,YAAYQ,KAAMZ,EAAO,WAAlC,QAKFE,EAAe,EAAG,CACpBR,EAAMyB,KACJ,wBAAIf,MAAM,sBACR,uBAAGA,MAAM,YAAYQ,KAAK,KAA1B,SAIJ,IAAK,IAAIM,EAAKhB,EAAe,EAAIgB,GAAMhB,EAAe,EAAIgB,IACpDA,GAAKjB,IAELC,GAAgBgB,EAClBxB,EAAMyB,KACJ,wBAAIf,MAAM,oBACR,uBAAGA,MAAM,YAAYQ,KAAMZ,EAAO,SAAWkB,GAAIA,KAKrDxB,EAAMyB,KACJ,wBAAIf,MAAM,aACR,uBAAGA,MAAM,YAAYQ,KAAMZ,EAAO,SAAWkB,GAAIA,WAOzD,IAASA,EAAI,EAAGA,GAAMhB,EAAe,EAAIgB,IACnChB,GAAgBgB,EAClBxB,EAAMyB,KACJ,wBAAIf,MAAM,oBACR,uBAAGA,MAAM,YAAYQ,KAAMZ,EAAO,SAAWkB,GAAIA,KAKrDxB,EAAMyB,KACJ,wBAAIf,MAAM,aACR,uBAAGA,MAAM,YAAYQ,KAAMZ,EAAO,SAAWkB,GAAIA,KAgD3D,OAzCIhB,GAAiBD,EAAkB,GACrCP,EAAMyB,KACJ,wBAAIf,MAAM,sBACR,uBAAGA,MAAM,YAAYQ,KAAK,KAA1B,SAKFV,GAAgBD,GAClBP,EAAMyB,KACJ,wBAAIf,MAAM,oBACR,uBAAGA,MAAM,YAAYQ,KAAMZ,EAAO,SAAWC,GAAkBA,KAInEP,EAAMyB,KACJ,wBAAIf,MAAM,sBACR,uBAAGA,MAAM,4BAA4BQ,KAAMZ,EAAO,UAAYE,EAAe,GAAIW,aAAW,QAC1F,0BAAMC,cAAY,QAAlB,KACA,0BAAMV,MAAM,WAAZ,aAMNV,EAAMyB,KACJ,wBAAIf,MAAM,aACR,uBAAGA,MAAM,YAAYQ,KAAMZ,EAAO,SAAWC,GAAkBA,KAInEP,EAAMyB,KACJ,wBAAIf,MAAM,aACR,uBAAGA,MAAM,4BAA4BQ,KAAMZ,EAAO,UAAYE,EAAe,GAAIW,aAAW,QAC1F,0BAAMC,cAAY,QAAlB,KACA,0BAAMV,MAAM,WAAZ,YAON,wBAAIA,MAAM,aAAaC,MAAO,CAC5BC,QAAS,OACTC,SAAU,OACVC,eAAgB,SAChBC,WAAY,SACZC,UAAW,OACXC,QAAS,IAERjB,GA7OE0B,CAAc,QAASxC,EAAcM,KAuBhD,SAASW,EAAaL,GACpB,OACE,yBAAKY,MAAM,cACRZ,EAAM6B,YAAYC,aACjB,6BACE,yBAAKlB,MAAM,QACT,4BACE,kBAAC,IAAD,CAAMmB,GAAI/B,EAAMgC,OAAOC,MACpBjC,EAAM6B,YAAYK,OAErB,6BACA,0BAAMtB,MAAM,QAAZ,cAA+BZ,EAAM6B,YAAYM,QAGrD,yBAAKvB,MAAM,OACT,yBAAKwB,IAAKpC,EAAM6B,YAAYC,YAAYO,aAE1C,yBAAKzB,MAAM,QACRZ,EAAMsC","file":"component---src-pages-news-js-9229238085b13af41dc6.js","sourcesContent":["import React from \"react\"\nimport queryString from 'query-string'\nimport Layout from \"../components/layout/layout\"\nimport { graphql, Link } from \"gatsby\"\nimport { Row, Col } from \"react-bootstrap\"\n\nexport default function News(props) {\n  var search = props.location.search ? queryString.parse(props.location.search) : {}\n  const postsPerPage = 10\n  var numPagesNews = Math.ceil(props.data.news.totalCount / postsPerPage)\n  var page = search.page\n  if (isNaN(page)) {\n    page = 1\n  }\n  var upperBound = (page * postsPerPage) - 1\n  var lowerBound = (page - 1) * postsPerPage\n\n  return (\n    <Layout>\n      {props.data.news.totalCount > 0 &&\n        <div id=\"media\">\n          {props.data.news.news.map((entry, index) => {\n            if (index % 2 == 0) {\n              if (index <= upperBound && index >= lowerBound) {\n              return getNewsRow(props.data.news.news, index)\n              }\n            }\n          })}\n          {getPagination(\"/news\", numPagesNews, page)}\n\n        </div>\n      }\n    </Layout>\n  )\n}\n\nfunction getNewsRow(items, startEntryIndex) {\n  return (\n    <Row className=\"post_row\">\n      <Col className=\"col-12 col-md-6\">\n        {getNewsEntry(items[startEntryIndex].news_entry)}\n      </Col>\n      {items[startEntryIndex + 1] !== undefined &&\n        <Col className=\"col-12 col-md-6\">\n          {getNewsEntry(items[startEntryIndex + 1].news_entry)}\n        </Col>\n      }\n    </Row>\n  )\n}\n\nfunction getNewsEntry(entry) {\n  return (\n    <div class=\"span6 post\">\n      {entry.frontmatter.bannerImage &&\n        <div>\n          <div class=\"text\">\n            <h5>\n              <Link to={entry.fields.slug}>\n                {entry.frontmatter.title}\n              </Link>\n              <br></br>\n              <span class=\"date\">Posted on: {entry.frontmatter.date}</span>\n            </h5>\n          </div>\n          <div class=\"img\">\n            <img src={entry.frontmatter.bannerImage.publicURL} />\n          </div>\n          <div class=\"text\">\n            {entry.excerpt}\n          </div>\n        </div>\n      }\n    </div>\n  )\n}\n\n\nfunction getPagination(link, number_of_pages, current_page) {\n  current_page = parseInt(current_page)\n  number_of_pages = parseInt(number_of_pages)\n  if (number_of_pages <= 5) {\n    return (\n      <ul class=\"pagination\" style={{\n        display: 'flex',\n        flexWrap: 'wrap',\n        justifyContent: 'center',\n        alignItems: 'center',\n        listStyle: 'none',\n        padding: 0,\n      }}>\n        {current_page == 1 ?\n          <li class=\"page-item disabled\">\n            <a class=\"page-link pagination-prev\" href={link + \"&page=\" + (current_page - 1)} aria-label=\"Previous\">\n              <span aria-hidden=\"true\">&laquo;</span>\n              <span class=\"sr-only\">Previous</span>\n            </a>\n          </li>\n          :\n          <li class=\"page-item\">\n            <a class=\"page-link pagination-next\" href={link + \"&page=\" + (current_page - 1)} aria-label=\"Previous\">\n              <span aria-hidden=\"true\">&laquo;</span>\n              <span class=\"sr-only\">Previous</span>\n            </a>\n          </li>\n        }\n\n        {Array.apply(0, Array(number_of_pages)).map(function (x, i) {\n          var href = link + \"&page=\" + (i + 1)\n          if (current_page == (i + 1)) {\n            return (<li class=\"page-item active\"><a class=\"page-link\" href={href}>{i + 1}</a></li>)\n          }\n          else {\n            return (<li class=\"page-item\"><a class=\"page-link\" href={href}>{i + 1}</a></li>)\n          }\n        })}\n        {current_page == number_of_pages ?\n          <li class=\"page-item disabled\">\n            <a class=\"page-link pagination-next\" href={link + \"&page=\" + (current_page + 1)} aria-label=\"Next\">\n              <span aria-hidden=\"true\">&raquo;</span>\n              <span class=\"sr-only\">Next</span>\n            </a>\n          </li>\n          :\n          <li class=\"page-item\">\n            <a class=\"page-link pagination-next\" href={link + \"&page=\" + (current_page + 1)} aria-label=\"Next\">\n              <span aria-hidden=\"true\">&raquo;</span>\n              <span class=\"sr-only\">Next</span>\n            </a>\n          </li>\n        }\n      </ul>\n    )\n  }\n  else {\n    var items = []\n\n    if (current_page == 1) {\n      items.push(\n        <li class=\"page-item disabled\">\n          <a class=\"page-link pagination-prev\" href={link + \"&page=\" + (current_page - 1)} aria-label=\"Previous\">\n            <span aria-hidden=\"true\">&laquo;</span>\n            <span class=\"sr-only\">Previous</span>\n          </a>\n        </li>\n      )\n\n      items.push(\n        <li class=\"page-item active\">\n          <a class=\"page-link\" href={link + \"&page=1\"}>1</a>\n        </li>\n      )\n    }\n    else {\n      items.push(\n        <li class=\"page-item\">\n          <a class=\"page-link pagination-prev\" href={link + \"&page=\" + (current_page - 1)} aria-label=\"Previous\">\n            <span aria-hidden=\"true\">&laquo;</span>\n            <span class=\"sr-only\">Previous</span>\n          </a>\n        </li>\n      )\n\n      items.push(\n        <li class=\"page-item\">\n          <a class=\"page-link\" href={link + \"&page=1\"}>1</a>\n        </li>\n      )\n    }\n    //////////////////////////////////////////////////////\n    if (current_page > 4) {\n      items.push(\n        <li class=\"page-item disabled\">\n          <a class=\"page-link\" href=\"#\">...</a>\n        </li>\n      )\n\n      for (var i = (current_page - 1); i <= (current_page + 1); i++) {\n        if (i >= number_of_pages)\n          continue\n        if (current_page == i) {\n          items.push(\n            <li class=\"page-item active\">\n              <a class=\"page-link\" href={link + \"&page=\" + i}>{i}</a>\n            </li>\n          )\n        }\n        else {\n          items.push(\n            <li class=\"page-item\">\n              <a class=\"page-link\" href={link + \"&page=\" + i}>{i}</a>\n            </li>\n          )\n        }\n      }\n    }\n    else {\n      for (var i = 2; i <= (current_page + 1); i++) {\n        if (current_page == i) {\n          items.push(\n            <li class=\"page-item active\">\n              <a class=\"page-link\" href={link + \"&page=\" + i}>{i}</a>\n            </li>\n          )\n        }\n        else {\n          items.push(\n            <li class=\"page-item\">\n              <a class=\"page-link\" href={link + \"&page=\" + i}>{i}</a>\n            </li>\n          )\n        }\n      }\n    }\n\n    if (current_page <= (number_of_pages - 3)) {\n      items.push(\n        <li class=\"page-item disabled\">\n          <a class=\"page-link\" href=\"#\">...</a>\n        </li>\n      )\n    }\n    /////////////////////////////////////////////////////////////////\n    if (current_page == number_of_pages) {\n      items.push(\n        <li class=\"page-item active\">\n          <a class=\"page-link\" href={link + \"&page=\" + number_of_pages}>{number_of_pages}</a>\n        </li>\n      )\n\n      items.push(\n        <li class=\"page-item disabled\">\n          <a class=\"page-link pagination-next\" href={link + \"&page=\" + (current_page + 1)} aria-label=\"Next\">\n            <span aria-hidden=\"true\">&raquo;</span>\n            <span class=\"sr-only\">Next</span>\n          </a>\n        </li>\n      )\n    }\n    else {\n      items.push(\n        <li class=\"page-item\">\n          <a class=\"page-link\" href={link + \"&page=\" + number_of_pages}>{number_of_pages}</a>\n        </li>\n      )\n\n      items.push(\n        <li class=\"page-item\">\n          <a class=\"page-link pagination-next\" href={link + \"&page=\" + (current_page + 1)} aria-label=\"Next\">\n            <span aria-hidden=\"true\">&raquo;</span>\n            <span class=\"sr-only\">Next</span>\n          </a>\n        </li>\n      )\n    }\n\n    return (\n      <ul class=\"pagination\" style={{\n        display: 'flex',\n        flexWrap: 'wrap',\n        justifyContent: 'center',\n        alignItems: 'center',\n        listStyle: 'none',\n        padding: 0,\n      }}>\n        {items}\n      </ul>\n    )\n  }\n\n}\n\nexport const query = graphql`\n  {\n    news: allMarkdownRemark(filter: {fields: {slug: {regex: \"/^/news//\"}}, frontmatter: {hideInSearchResults: {ne: true}}}, sort: {fields: frontmatter___date, order: DESC}) {\n      news: edges {\n        news_entry: node {\n          fields {\n            slug\n          }\n          frontmatter {\n            title\n            date(formatString: \"MMMM DD, YYYY\")\n            bannerImage {\n              publicURL\n            }\n          }\n          excerpt\n        }\n      }\n      totalCount\n    }\n  }\n`"],"sourceRoot":""}